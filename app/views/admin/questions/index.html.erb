<%= render "admin/sidebar_admin" %>

<div class="col-md-6">
<%= will_paginate @questions, :previous_label=> t("page.pre"), :next_label => t("page.next") %>
  <table class="table table-striped table-inverse table-responsive table-bordered table-hover">
    <thead class="thead-inverse">
      <tr>
        <th>STT</th>
        <th><%= t("admin.questions.ques")%></th>
      </tr>
    </thead>
    <tbody>
      <% @questions.each do |q| %>
      <div class="row d-flex justify-content-center mt-4">
        <tr>
          <td colspan = "7">
          </td>
        </tr>
        <tr>
          <td>
            <%if params[:page]%>
              <%= (params[:page].to_i - 1)*10 + @questions.index(q)+1%>
            <%else%>
              <%= @questions.index(q)+1%>
            <%end%>
          </td>          
          <td ><%= q.content%></td>
          <td>
            <%= link_to t("admin.questions.edit"), edit_admin_question_path(id: q.id), class: "btn btn-primary m-1" %>
            <%= link_to t("admin.questions.delete"), [:admin, q], method: :delete, class: "btn btn-primary m-1" %>
          </td>
        </tr> 
      <%end%>
      </div>      
    </tbody>
  </table>
</div>
<div class="col-md-4 signup">
<%= render "shared/flash_messages" %>
  <h3><%= t("admin.questions.new")%></h3>
  <%= form_with(model: [:admin, @question], local: true) do |q|%>
    <%= render "shared/error_messages",object:  q.object%>
      <%= q.label :content, value: t("admin.questions.ques") %><br>
      <%= q.text_field :content%><br>
      <%= q.label :lesson_id, value: t("admin.content_lessons.lesson")%><br>
      <%= q.text_field :lesson_id, value: @lesson.name_lesson%><br>
      <%= q.submit  t("admin.content_lessons.add"), class: "btn btn-primary" %>
  <%end%>
</div>