<%= render "admin/sidebar_admin" %>
<div class = "col-md-10 ">
  <table class="table table-striped table-inverse table-responsive table-bordered table-hover">
    <%= render "shared/flash_messages" %>
      <thead class="thead-inverse">
        <tr>
          <th>ID</th>
          <th>Name Lesson</th>
          <th>Time</th>
          <th style ="text_align: center">Status</th>
          <th>Category</th>
          <th>Words</th>
        </tr>
      </thead>
      <tbody>
        <% @lessons.each do |l| %>
        <div class="row d-flex justify-content-center mt-4">
        <%= form_with(url: admin_lesson_path(id: l.id),method: :put, local: true) do |f| %>
          <tr>
            <td colspan = "7">
            </td>
          </tr>
          <tr>
            <td ><%= link_to l.id, admin_lesson_path(id: l.id), method: :get %></td>
            <td scope="row"> <%= f.text_field :name_lesson, value: l.name_lesson%></td> 
            <td><%= f.text_field :time, value: l.time%></td>          
            <td><% if l.status == true%>
                  <div class ="active_status"></div>
                <%else%>
                  <div class ="unactive_status"></div>
                <%end%>
            </td>
            <td ><%= l.category_id%></td>
            <td><%= l.content_lessons.count%></td>
            <td>
            <%= f.submit "Edit", class: "btn btn-primary" %> 
            <%if l.status == true%>
              <%= link_to "Unactive", [:admin, l], method: :delete, class: "btn btn-primary m-1"%>
            <%else%>
              <%= link_to "Active", admin_lesson_path(id: l.id), method: :patch, class: "btn btn-primary m-1"%>
            <%end%>    
            </td>
          </tr> 
          <%end%>
        </div>      
        <%end%>
      </tbody>
    </table>
    <%= will_paginate @categories, :previous_label=> t("page.pre"), :next_label => t("page.next") %>
</div>